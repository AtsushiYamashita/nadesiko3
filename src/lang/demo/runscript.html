<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>なでしこ3</title>
    <!-- なでしこを使う準備 -->
    <script src="../release/nako3.js"></script>
    <script type="なでしこ" id="main_program">
        「#00F」に色変更。
        「こんにちは。なでしこでメッセージを表示しています！」と表示。
        「画面を右クリックして
        [ページのソースを表示]で
        プログラムを見てください。」を表示。
    </script>
</head>
<body>
<h1>なでしこ3デモ - script要素を実行する方法</h1>
<div><p id="info"></p></div>
<script>
    // --- なでしこのカスタマイズ例 ---
    // 必要に応じて なでしこの関数を カスタマイズ
    navigator.nako3.setFunc("言", function (msg) {
        alert(msg);
    });

    navigator.nako3.setFunc("表示", function (s) {
        $("info").innerHTML += to_html(s) + "<br>";
    });

    // なでしこにオリジナル関数をJSで追加
    navigator.nako3.addFunc("色変更",
        [["に", "へ"]],
        function (s) {
            $("info").style.color = s;
        });
    // --- ここまで ---

    // --- スクリプトを実行するには、以下を一行書くだけ！ ---
    navigator.nako3.runNakoScript();

    // 簡易DOMアクセス関数など
    function $(id) {
        return document.getElementById(id);
    }

    function to_html(s) {
        s = "" + s;
        return s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
    }
</script>
</body>
</html>
